This page describes various data formats and options for storing simulation snapshots.
For simulation logs recording, for example, performance, load balancing, and memory
consumption, see [[Simulation Logs | Simulation-Logs]].


## Compilation Options

Related options:
[[SUPPORT_HDF5 | Installation: Simulation-Options#SUPPORT_HDF5]] &nbsp;


## Runtime Parameters

Parameters described on this page:
[OPT__OUTPUT_TOTAL](#OPT__OUTPUT_TOTAL), &nbsp;
[OPT__OUTPUT_PART](#OPT__OUTPUT_PART), &nbsp;
[OPT__OUTPUT_TEXT_FORMAT_FLT](#OPT__OUTPUT_TEXT_FORMAT_FLT), &nbsp;
[OPT__OUTPUT_USER](#OPT__OUTPUT_USER), &nbsp;
[OPT__OUTPUT_PAR_MODE](#OPT__OUTPUT_PAR_MODE), &nbsp;
[OPT__OUTPUT_PAR_MESH](#OPT__OUTPUT_PAR_MESH), &nbsp;
[OPT__OUTPUT_BASEPS](#OPT__OUTPUT_BASEPS), &nbsp;
[OPT__OUTPUT_BASE](#OPT__OUTPUT_BASE), &nbsp;
[OPT__OUTPUT_POT](#OPT__OUTPUT_POT), &nbsp;
[OPT__OUTPUT_PAR_DENS](#OPT__OUTPUT_PAR_DENS), &nbsp;
[OPT__OUTPUT_CC_MAG](#OPT__OUTPUT_CC_MAG), &nbsp;
[OPT__OUTPUT_PRES](#OPT__OUTPUT_PRES), &nbsp;
[OPT__OUTPUT_TEMP](#OPT__OUTPUT_TEMP), &nbsp;
[OPT__OUTPUT_ENTR](#OPT__OUTPUT_ENTR), &nbsp;
[OPT__OUTPUT_CS](#OPT__OUTPUT_CS), &nbsp;
[OPT__OUTPUT_DIVVEL](#OPT__OUTPUT_DIVVEL), &nbsp;
[OPT__OUTPUT_MACH](#OPT__OUTPUT_MACH), &nbsp;
[OPT__OUTPUT_DIVMAG](#OPT__OUTPUT_DIVMAG), &nbsp;
[OPT__OUTPUT_LORENTZ](#OPT__OUTPUT_LORENTZ), &nbsp;
[OPT__OUTPUT_3VELOCITY](#OPT__OUTPUT_3VELOCITY), &nbsp;
[OPT__OUTPUT_ENTHALPY](#OPT__OUTPUT_ENTHALPY), &nbsp;
[OPT__OUTPUT_USER_FIELD](#OPT__OUTPUT_USER_FIELD), &nbsp;
[OPT__OUTPUT_MODE](#OPT__OUTPUT_MODE), &nbsp;
[OPT__OUTPUT_RESTART](#OPT__OUTPUT_RESTART), &nbsp;
[OUTPUT_STEP](#OUTPUT_STEP), &nbsp;
[OUTPUT_DT](#OUTPUT_DT), &nbsp;
[OUTPUT_WALLTIME](#OUTPUT_WALLTIME), &nbsp;
[OUTPUT_WALLTIME_UNIT](#OUTPUT_WALLTIME_UNIT), &nbsp;
[OUTPUT_PART_X](#OUTPUT_PART_X), &nbsp;
[OUTPUT_PART_Y](#OUTPUT_PART_Y), &nbsp;
[OUTPUT_PART_Z](#OUTPUT_PART_Z), &nbsp;
[INIT_DUMPID](#INIT_DUMPID), &nbsp;

Other related parameters: none

Parameters below are shown in the format: &ensp; **`Name` &ensp; (Valid Values) &ensp; [Default Value]**

<a name="OPT__OUTPUT_TOTAL"></a>
* #### `OPT__OUTPUT_TOTAL` &ensp; (0=off, 1=HDF5, 2=C-binary) &ensp; [1]
    * **Description:**
Output the simulation snapshots in the specified binary format (HDF5 or simple C-binary),
which will store all simulation information such as grid data, particle data,
tree structure, runtime parameters, and compilation options. These snapshots can be used for
[[restarting simulations | Running-the-Code#restarting-from-a-snapshot]].
The snapshot filename is currently fixed to `Data_%06d`.
See also [OPT__OUTPUT_MODE](#OPT__OUTPUT_MODE) for specifying the
data dump frequency.
    * **Restriction:**
`OPT__OUTPUT_TOTAL=1` is only applicable when enabling the compilation option
[[SUPPORT_HDF5 | Installation: Simulation-Options#SUPPORT_HDF5]].
[[Data analysis with yt | Data-Analysis]] is currently only supported for
the HDF5 snapshots of GAMER.

<a name="OPT__OUTPUT_PART"></a>
* #### `OPT__OUTPUT_PART` &ensp; (0=off, 1=xy, 2=yz, 3=xz, 4=x, 5=y, 6=z, 7=diagonal) &ensp; [0]
    * **Description:**
Output the data of a single line or slice in the text format.
Use [OUTPUT_PART_X](#OUTPUT_PART_X), [OUTPUT_PART_Y](#OUTPUT_PART_Y), and
[OUTPUT_PART_Z](#OUTPUT_PART_Z) to specify the target coordinates.
This output option is mainly for quick inspection for simple test problems
with symmetry. Use [OPT__OUTPUT_TOTAL](#OPT__OUTPUT_TOTAL) for more general
[[data analysis with yt | Data-Analysis]].
See also [OPT__OUTPUT_MODE](#OPT__OUTPUT_MODE) for specifying the
data dump frequency.
    * **Restriction:**

<a name="OPT__OUTPUT_TEXT_FORMAT_FLT"></a>
* #### `OPT__OUTPUT_TEXT_FORMAT_FLT` &ensp; (%XX.YYe) &ensp; [%24.16e]
    * **Description:**
String format of floating-point data in output text files.
Please use the scientific notation `%XX.YYe` such as `%14.6e`.
This will affect files generated by, for example,
[OPT__OUTPUT_PART](#OPT__OUTPUT_PART),
[OPT__OUTPUT_PAR_MODE](#OPT__OUTPUT_PAR_MODE)=1, and
[OPT__OUTPUT_BASEPS](#OPT__OUTPUT_BASEPS).
    * **Restriction:**

<a name="OPT__OUTPUT_USER"></a>
* #### `OPT__OUTPUT_USER` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output user-specified data. Edit `src/Output/Output_Uer.cpp`
or a problem-specific function (for the latter, see
[[Add Problem Specific Functionalities | Adding-New-Simulations#vi-add-problem-specific-functionalities]]).
    * **Restriction:**

<a name="OPT__OUTPUT_PAR_MODE"></a>
* #### `OPT__OUTPUT_PAR_MODE` &ensp; (0=off, 1=text files, 2=C-binary files) &ensp; [0]
    * **Description:**
Output particle data in either the text or binary format.
This option is mainly for debugging purposes since the simulation snapshots
(with the option [OPT__OUTPUT_TOTAL](#OPT__OUTPUT_TOTAL)) already store
particle data.
    * **Restriction:**

<a name="OPT__OUTPUT_PAR_MESH"></a>
* #### `OPT__OUTPUT_PAR_MESH` &ensp; (0=off, 1=on) &ensp; [1]
    * **Description:**
Map mesh attributes to tracer particles and output them in the HDF5 snapshots.
Edit `Input__Par_Mesh` to specify the desired mesh attributes. An example file can be found at `example/input/Input__Par_Mesh`.
    * **Restriction:**
Only applicable when enabling [[TRACER | Installation:-Simulation-Options#TRACER]] and setting [OPT__OUTPUT_TOTAL](#OPT__OUTPUT_TOTAL) to 1.

<a name="OPT__OUTPUT_BASEPS"></a>
* #### `OPT__OUTPUT_BASEPS` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the mass density power spectrum on the root level.
    * **Restriction:**

<a name="OPT__OUTPUT_BASE"></a>
* #### `OPT__OUTPUT_BASE` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Only output the base-level (i.e., root level) data for
[OPT__OUTPUT_PART](#OPT__OUTPUT_PART).
    * **Restriction:**

<a name="OPT__OUTPUT_POT"></a>
* #### `OPT__OUTPUT_POT` &ensp; (0=off, 1=on) &ensp; [1]
    * **Description:**
Output the gravitational potential data on grids.
    * **Restriction:**

<a name="OPT__OUTPUT_PAR_DENS"></a>
* #### `OPT__OUTPUT_PAR_DENS` &ensp; (0=off, 1=particle mass density, 2=total mass density) &ensp; [0]
    * **Description:**
Store the particle or total mass density on grids in
the simulation snapshots. The particle interpolation scheme is set by
[[PAR_INTERP | Particles#PAR_INTERP ]].
    * **Restriction:**
Only applicable when enabling [OPT__OUTPUT_TOTAL](#OPT__OUTPUT_TOTAL).

<a name="OPT__OUTPUT_CC_MAG"></a>
* #### `OPT__OUTPUT_CC_MAG` &ensp; (0=off, 1=on) &ensp; [1]
    * **Description:**
Output the cell-centered magnetic field (**mandatory for yt analysis**).
    * **Restriction:**
For [[MHD | Installation: Simulation-Options#MHD]] only.

<a name="OPT__OUTPUT_PRES"></a>
* #### `OPT__OUTPUT_PRES` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the gas pressure (or gas + cosmic-ray pressure when enabling
[[COSMIC_RAY | Installation: Simulation-Options#COSMIC_RAY]]) on grids.
Magnetic pressure is always excluded.
    * **Restriction:**

<a name="OPT__OUTPUT_TEMP"></a>
* #### `OPT__OUTPUT_TEMP` &ensp; (0=off, 1=on) &ensp; [0 for HD, 1 for SRHD]
    * **Description:**
Output the gas temperature on grids.
    * **Restriction:**

<a name="OPT__OUTPUT_ENTR"></a>
* #### `OPT__OUTPUT_ENTR` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the gas entropy on grids.
    * **Restriction:**
Mainly used by the gamma-law EoS.

<a name="OPT__OUTPUT_CS"></a>
* #### `OPT__OUTPUT_CS` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the sound speed on grids.
    * **Restriction:**

<a name="OPT__OUTPUT_DIVVEL"></a>
* #### `OPT__OUTPUT_DIVVEL` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the divergence of gas velocity on grids.
    * **Restriction:**

<a name="OPT__OUTPUT_MACH"></a>
* #### `OPT__OUTPUT_MACH` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the Mach number on grids.
    * **Restriction:**

<a name="OPT__OUTPUT_DIVMAG"></a>
* #### `OPT__OUTPUT_DIVMAG` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output $|\nabla \cdot B| \Delta h / |B|$, where $B$ is the magnetic field
and $\Delta h$ is cell width.
    * **Restriction:**
For [[MHD | Installation: Simulation-Options#MHD]] only.

<a name="OPT__OUTPUT_LORENTZ"></a>
* #### `OPT__OUTPUT_LORENTZ` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the SRHD Lorentz factor on grids.
    * **Restriction:**
For [[SRHD | Installation: Simulation-Options#SRHD]] only.

<a name="OPT__OUTPUT_3VELOCITY"></a>
* #### `OPT__OUTPUT_3VELOCITY` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output the SRHD three-velocity on grids.
    * **Restriction:**
For [[SRHD | Installation: Simulation-Options#SRHD]] only.

<a name="OPT__OUTPUT_ENTHALPY"></a>
* #### `OPT__OUTPUT_ENTHALPY` &ensp; (0=off, 1=on) &ensp; [1]
    * **Description:**
Output the SRHD reduced enthalpy on grids.
    * **Restriction:**
For [[SRHD | Installation: Simulation-Options#SRHD]] only.

<a name="OPT__OUTPUT_MODE"></a>
* #### `OPT__OUTPUT_MODE` &ensp; (1=const step, 2=const dt, 3=dump table) &ensp; [none]
    * **Description:**
Choose the data output frequency.
        * `1`: Every [OUTPUT_STEP](#OUTPUT_STEP) root-level step
        * `2`: Every [OUTPUT_DT](#OUTPUT_DT) time interval
        * `3`: According to the dump timetable [[Input__DumpTable | Runtime-Parameters#input__dumptable]]
    * **Restriction:**
Must enable at least one of the output options
[OPT__OUTPUT_TOTAL](#OPT__OUTPUT_TOTAL),
[OPT__OUTPUT_PART](#OPT__OUTPUT_PART),
[OPT__OUTPUT_USER](#OPT__OUTPUT_USER),
[OPT__OUTPUT_PAR_MODE](#OPT__OUTPUT_PAR_MODE), and
[OPT__OUTPUT_BASEPS](#OPT__OUTPUT_BASEPS).

<a name="OPT__OUTPUT_RESTART"></a>
* #### `OPT__OUTPUT_RESTART` &ensp; (0=off, 1=on) &ensp; [0]
    * **Description:**
Output a snapshot immediately after restarting a simulation. It can be useful
if some physical quantities change during restart (e.g., new particles are added).
    * **Restriction:**

<a name="OUTPUT_STEP"></a>
* #### `OUTPUT_STEP` &ensp; (>0) &ensp; [none]
    * **Description:**
See [OPT__OUTPUT_MODE](#OPT__OUTPUT_MODE)=1.
    * **Restriction:**

<a name="OUTPUT_DT"></a>
* #### `OUTPUT_DT` &ensp; (>0.0) &ensp; [none]
    * **Description:**
See [OPT__OUTPUT_MODE](#OPT__OUTPUT_MODE)=2.
    * **Restriction:**

<a name="OUTPUT_WALLTIME"></a>
* #### `OUTPUT_WALLTIME` &ensp; (&#8804; 0.0=off) &ensp; [-1.0]
    * **Description:**
Output data every `OUTPUT_WALLTIME` wall-clock time, the unit of which is set by
[OUTPUT_WALLTIME_UNIT](#OUTPUT_WALLTIME_UNIT). Note that it is independent of
[OPT__OUTPUT_MODE](#OPT__OUTPUT_MODE).
    * **Restriction:**
Must enable at least one of the output options
[OPT__OUTPUT_TOTAL](#OPT__OUTPUT_TOTAL),
[OPT__OUTPUT_PART](#OPT__OUTPUT_PART),
[OPT__OUTPUT_USER](#OPT__OUTPUT_USER),
[OPT__OUTPUT_PAR_MODE](#OPT__OUTPUT_PAR_MODE), and
[OPT__OUTPUT_BASEPS](#OPT__OUTPUT_BASEPS).

<a name="OUTPUT_WALLTIME_UNIT"></a>
* #### `OUTPUT_WALLTIME_UNIT` &ensp; (0=second, 1=minute, 2=hour, 3=day) &ensp; [0]
    * **Description:**
Unit of [OUTPUT_WALLTIME](#OUTPUT_WALLTIME).
    * **Restriction:**

<a name="OUTPUT_PART_X"></a>
* #### `OUTPUT_PART_X` &ensp; (within the simulation domain) &ensp; [-1.0]
    * **Description:**
x coordinate for [OPT__OUTPUT_PART](#OPT__OUTPUT_PART).
    * **Restriction:**

<a name="OUTPUT_PART_Y"></a>
* #### `OUTPUT_PART_Y` &ensp; (within the simulation domain) &ensp; [-1.0]
    * **Description:**
y coordinate for [OPT__OUTPUT_PART](#OPT__OUTPUT_PART).
    * **Restriction:**

<a name="OUTPUT_PART_Z"></a>
* #### `OUTPUT_PART_Z` &ensp; (within the simulation domain) &ensp; [-1.0]
    * **Description:**
z coordinate for [OPT__OUTPUT_PART](#OPT__OUTPUT_PART).
    * **Restriction:**

<a name="INIT_DUMPID"></a>
* #### `INIT_DUMPID` &ensp; (&#8805;0; <0 &#8594; set to default) &ensp; [-1]
    * **Description:**
Set the first data dump ID. Note that it is unnecessary to set this value
in most cases, even when restarting simulations, unless you want to overwrite
the default value.
    * **Restriction:**


## Remarks

### Enforcing Outputs

Typically, the simulation output interval is controlled by
[OUTPUT_STEP](#OUTPUT_STEP),
[OUTPUT_DT](#OUTPUT_DT), or the timetable
[[Input__DumpTable | Runtime Parameters#input__dumptable]]
depending on
[OPT__OUTPUT_MODE](#OPT__OUTPUT_MODE).
One can also enforce output by creating a file named
`DUMP_GAMER_DUMP` (e.g., using `touch DUMP_GAMER_DUMP`) in the same
directory as the executable `gamer`. The program will check the existence
of this file after every root-level update. If it is detected,
the program will output data (assuming at least one of the output options described
on this page is enabled) and delete the file `DUMP_GAMER_DUMP`.
Note that this functionality is supported only when the runtime parameter
[[OPT__MANUAL_CONTROL | Runtime-Parameters:-Miscellaneous#OPT__MANUAL_CONTROL]]
is on.


<br>

## Links
* [[Main page of Runtime Parameters | Runtime Parameters]]
* [[Simulation Logs | Simulation-Logs]]